{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{IlN9:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"TwitchEmbed\",(function(){return m})),n.d(t,\"TwitchChat\",(function(){return g})),n.d(t,\"TwitchClip\",(function(){return _})),n.d(t,\"TwitchPlayer\",(function(){return A}));var i=n(\"ERkP\"),r=n.n(i),o=n(\"aWzz\"),a=n.n(o),l=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h=function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},c=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!==typeof t&&\"function\"!==typeof t?e:t},u=function(e){return\"&parent=\"+[window.location.hostname].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)).join(\"&parent=\")},d=function(e,t){return Object.keys(e).reduce((function(n,i){return t.hasOwnProperty(i)||(n[i]=e[i]),n}),{})},y=null,f={id:a.a.string,allowFullscreen:a.a.bool,channel:a.a.string.isRequired,fontSize:a.a.oneOf([\"small\",\"medium\",\"large\"]),height:a.a.oneOfType([a.a.string,a.a.number]),withChat:a.a.bool,theme:a.a.oneOf([\"light\",\"dark\"]),width:a.a.oneOfType([a.a.string,a.a.number]),onAuthenticate:a.a.func,onVideoPlay:a.a.func,onVideoPause:a.a.func,onVideoReady:a.a.func,autoplay:a.a.bool,muted:a.a.bool,parent:a.a.arrayOf(a.a.string)},w={id:\"twitch-embed\",allowFullscreen:!0,fontSize:\"small\",height:480,withChat:!0,theme:\"light\",width:940,onAuthenticate:function(){return null},onVideoPlay:function(){return null},onVideoPause:function(){return null},onVideoReady:function(){return null},autoplay:!0,muted:!1,parent:[]},m=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),s(t,[{key:\"componentDidMount\",value:function(){var e=this;if(this._validateProps(),window.Twitch&&window.Twitch.Embed)return this._createEmbed();y||((y=document.createElement(\"script\")).setAttribute(\"type\",\"text/javascript\"),y.setAttribute(\"src\",\"https://embed.twitch.tv/embed/v1.js\"),document.body.appendChild(y)),y.addEventListener(\"load\",(function(){e._createEmbed()}))}},{key:\"componentDidUpdate\",value:function(e,t,n){var i=this;return this._validateProps(),e.withChat||Object.keys(e).reduce((function(t,n){return\"channel\"===n||e[n]!==i.props[n]&&t.push(n),t}),[]).length>0?(this.embed=null,this.player=null,document.getElementById(e.id).innerHTML=\"\",this._createEmbed()):void(e.channel!==this.props.channel&&this.player.setChannel(this.props.channel))}},{key:\"_createEmbed\",value:function(){this.embed=new window.Twitch.Embed(this.props.id,{allowfullscreen:this.props.allowFullscreen,channel:this.props.channel,\"font-size\":this.props.fontSize,height:\"100%\",layout:this.props.withChat?\"video-with-chat\":\"video\",theme:this.props.theme,width:\"100%\",parent:this.props.parent}),this._addEventListeners()}},{key:\"_addEventListeners\",value:function(){var e=this;this.embed.addEventListener(window.Twitch.Embed.AUTHENTICATE,this.props.onAuthenticate),this.embed.addEventListener(window.Twitch.Embed.VIDEO_PLAY,this.props.onVideoPlay),this.embed.addEventListener(window.Twitch.Embed.VIDEO_PAUSE,this.props.onVideoPause),this.embed.addEventListener(window.Twitch.Embed.VIDEO_READY,(function(){var t=e.props,n=t.autoplay,i=t.muted;e.player=e.embed.getPlayer(),i&&e.player.setVolume(0),n||e.player.pause(),e.props.onVideoReady(e.player)}))}},{key:\"_validateProps\",value:function(){if(!this.props.channel)throw new Error(\"A channel prop must be supplied to TwitchEmbed!\")}},{key:\"render\",value:function(){var e=d(this.props,f);return r.a.createElement(\"div\",p({style:{width:this.props.width,height:this.props.height},id:this.props.id},e))}}]),t}(i.Component);m.propTypes=f,m.defaultProps=w;var v={channel:a.a.string.isRequired,id:a.a.string,height:a.a.oneOfType([a.a.string,a.a.number]),width:a.a.oneOfType([a.a.string,a.a.number]),theme:a.a.oneOf([\"light\",\"dark\"]),parent:a.a.arrayOf(a.a.string),migration:a.a.bool},b={id:\"twitch-chat-embed\",height:500,width:350,theme:\"light\",migration:!0,parent:[]},g=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),s(t,[{key:\"componentDidMount\",value:function(){this._validateProps()}},{key:\"componentDidUpdate\",value:function(e,t,n){this._validateProps()}},{key:\"_validateProps\",value:function(){if(!this.props.channel)throw new Error(\"A channel prop must be supplied to TwitchChat!\")}},{key:\"_createEmbedURL\",value:function(){var e=this.props,t=e.channel,n=e.theme,i=e.parent;return\"https://www.twitch.tv/embed/\"+t+\"/chat\"+(\"dark\"===n?\"?darkpopout\":\"\")+(\"dark\"!==n?\"?\":\"&\")+\"migration=\"+e.migration.toString()+u(i)}},{key:\"render\",value:function(){var e=this.props,t=e.height,n=e.id,i=e.width,o=d(this.props,v);return r.a.createElement(\"iframe\",p({title:\"Twitch Chat - \"+n,id:n,src:this._createEmbedURL(),height:t,width:i,frameBorder:0},o))}}]),t}(i.Component);g.propTypes=v,g.defaultProps=b;var E={clip:a.a.string.isRequired,id:a.a.string,autoplay:a.a.bool,muted:a.a.bool,height:a.a.oneOfType([a.a.string,a.a.number]),width:a.a.oneOfType([a.a.string,a.a.number]),allowFullscreen:a.a.bool,parent:a.a.arrayOf(a.a.string),migration:a.a.bool},P={id:\"twitch-clip-embed\",autoplay:!0,muted:!1,height:480,width:940,allowFullscreen:!0,migration:!0,parent:[]},_=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),s(t,[{key:\"componentDidMount\",value:function(){this._validateProps()}},{key:\"componentDidUpdate\",value:function(e,t,n){this._validateProps()}},{key:\"_validateProps\",value:function(){if(!this.props.clip)throw new Error(\"A clip prop must be supplied to TwitchClip!\")}},{key:\"_createEmbedURL\",value:function(){var e=this.props,t=e.clip,n=e.autoplay,i=e.muted,r=e.parent;return\"https://clips.twitch.tv/embed?clip=\"+t+\"&autoplay=\"+n+\"&muted=\"+i+\"&migration=\"+e.migration.toString()+u(r)}},{key:\"render\",value:function(){var e=this.props,t=e.id,n=e.height,i=e.width,o=e.allowFullscreen,a=d(this.props,E);return r.a.createElement(\"iframe\",p({title:\"Twitch Clip Embed - \"+t,src:this._createEmbedURL(),id:t,height:n,width:i,allowFullScreen:o,frameBorder:0},a))}}]),t}(i.Component);_.propTypes=E,_.defaultProps=P;var O=[\"channel\",\"collection\",\"video\"],T=null,k={id:a.a.string,channel:a.a.string,collection:a.a.string,video:a.a.string,height:a.a.oneOfType([a.a.string,a.a.number]),width:a.a.oneOfType([a.a.string,a.a.number]),playsInline:a.a.bool,autoplay:a.a.bool,muted:a.a.bool,allowFullscreen:a.a.bool,time:a.a.string,hideControls:a.a.bool,onEnded:a.a.func,onPause:a.a.func,onPlay:a.a.func,onPlaybackBlocked:a.a.func,onPlaying:a.a.func,onOffline:a.a.func,onOnline:a.a.func,onReady:a.a.func,parent:a.a.arrayOf(a.a.string)},L={id:\"twitch-player-embed\",channel:null,collection:null,video:null,height:480,width:940,playsInline:!0,autoplay:!0,muted:!1,allowFullscreen:!0,time:\"0h0m0s\",hideControls:!1,onEnded:function(){return null},onPause:function(){return null},onPlay:function(){return null},onPlaybackBlocked:function(){return null},onPlaying:function(){return null},onOffline:function(){return null},onOnline:function(){return null},onReady:function(){return null},parent:[]},A=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),s(t,[{key:\"componentDidMount\",value:function(){var e=this;if(this._validateProps(),window.Twitch&&window.Twitch.Player)return this._createPlayer();T||((T=document.createElement(\"script\")).setAttribute(\"type\",\"text/javascript\"),T.setAttribute(\"src\",\"https://player.twitch.tv/js/embed/v1.js\"),document.body.appendChild(T)),T.addEventListener(\"load\",(function(){e._createPlayer()}))}},{key:\"componentDidUpdate\",value:function(e,t,n){var i=this;return this._validateProps(),Object.keys(e).reduce((function(t,n){return O.includes(n)||e[n]!==i.props[n]&&t.push(n),t}),[]).length>0?(this.player=null,document.getElementById(e.id).innerHTML=\"\",this._createPlayer()):e.channel!==this.props.channel&&this.props.channel?this.player.setChannel(this.props.channel):(e.collection!==this.props.collection&&this.props.collection&&this.player.setCollection(this.props.collection),void(e.video!==this.props.video&&this.props.video&&this.player.setVideo(\"v\"+this.props.video)))}},{key:\"_createPlayer\",value:function(){var e={height:\"100%\",width:\"100%\",playsinline:this.props.playsInline,allowfullscreen:this.props.allowFullscreen,autoplay:this.props.autoplay,muted:this.props.muted,time:this.props.time,controls:!this.props.hideControls,parent:this.props.parent};this.props.channel&&(e.channel=this.props.channel),this.props.video&&(e.video=this.props.video),this.props.collection&&(e.collection=this.props.collection),this.player=new window.Twitch.Player(this.props.id,e),this._addEventListeners()}},{key:\"_addEventListeners\",value:function(){var e=this;this.player.addEventListener(window.Twitch.Player.ENDED,this.props.onEnded),this.player.addEventListener(window.Twitch.Player.PAUSE,this.props.onPause),this.player.addEventListener(window.Twitch.Player.PLAY,this.props.onPlay),this.player.addEventListener(window.Twitch.Player.PLAYBACK_BLOCKED,this.props.onPlaybackBlocked),this.player.addEventListener(window.Twitch.Player.PLAYING,this.props.onPlaying),this.player.addEventListener(window.Twitch.Player.OFFLINE,this.props.onOffline),this.player.addEventListener(window.Twitch.Player.ONLINE,this.props.onOnline),this.player.addEventListener(window.Twitch.Player.READY,(function(){e.props.onReady(e.player)}))}},{key:\"_validateProps\",value:function(){var e=this.props,t=e.channel,n=e.collection,i=e.video;if(!t&&!n&&!i)throw new Error(\"A channel, collection or video prop must be supplied to TwitchPlayer!\")}},{key:\"render\",value:function(){var e=d(this.props,k);return r.a.createElement(\"div\",p({id:this.props.id,style:{width:this.props.width,height:this.props.height}},e))}}]),t}(i.Component);A.propTypes=k,A.defaultProps=L}}]);","extractedComments":[]}