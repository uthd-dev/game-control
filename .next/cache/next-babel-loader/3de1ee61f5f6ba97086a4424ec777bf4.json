{"ast":null,"code":"import nextConnect from 'next-connect';\nimport middleware from '../../../../middleware/index';\nimport passport from '../../../../lib/auth/passport';\nconst handler = nextConnect();\nhandler.use(middleware);\nhandler.get((req, res) => {\n  if (req.query.returnTo) req.session.returnTo = `${req.query.returnTo}`;\n\n  function doVerify() {\n    if (req.query.verify) return req.query.verify == \"true\" ? true : false;\n  }\n\n  passport.authenticate(\"twitch\", {\n    forceVerify: doVerify()\n  })(req, res);\n});\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}