{"ast":null,"code":"import passport from \"passport\";\nimport twitchStrategy from \"./passport-twitch\";\nimport { findById } from \"../db/users\";\npassport.serializeUser(function (user, done) {\n  done(null, user.id);\n});\npassport.deserializeUser(function (id, done) {\n  //Requires req.user calls to use DB values to make sure that user objects and DB are synced.\n  findById(id, function (err, user) {\n    done(err, user);\n  });\n});\npassport.use(twitchStrategy);\nexport default passport;","map":{"version":3,"sources":["D:/Dev/GitHub/game-control/lib/auth/passport.js"],"names":["passport","twitchStrategy","findById","serializeUser","user","done","id","deserializeUser","err","use"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEAF,QAAQ,CAACG,aAAT,CAAuB,UAAUC,IAAV,EAAgBC,IAAhB,EAAsB;AAC3CA,EAAAA,IAAI,CAAC,IAAD,EAAOD,IAAI,CAACE,EAAZ,CAAJ;AACD,CAFD;AAIAN,QAAQ,CAACO,eAAT,CAAyB,UAAUD,EAAV,EAAcD,IAAd,EAAoB;AAC3C;AACAH,EAAAA,QAAQ,CAACI,EAAD,EAAK,UAAUE,GAAV,EAAeJ,IAAf,EAAqB;AAChCC,IAAAA,IAAI,CAACG,GAAD,EAAMJ,IAAN,CAAJ;AACD,GAFO,CAAR;AAGD,CALD;AAOAJ,QAAQ,CAACS,GAAT,CAAaR,cAAb;AAEA,eAAeD,QAAf","sourcesContent":["import passport from \"passport\";\r\nimport twitchStrategy from \"./passport-twitch\"\r\nimport { findById } from \"../db/users\";\r\n\r\npassport.serializeUser(function (user, done) {\r\n  done(null, user.id);\r\n});\r\n\r\npassport.deserializeUser(function (id, done) {\r\n  //Requires req.user calls to use DB values to make sure that user objects and DB are synced.\r\n  findById(id, function (err, user) {\r\n    done(err, user);\r\n  });\r\n});\r\n\r\npassport.use(twitchStrategy)\r\n\r\nexport default passport"]},"metadata":{},"sourceType":"module"}