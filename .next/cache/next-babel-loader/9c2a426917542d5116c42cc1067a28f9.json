{"ast":null,"code":"import mongoose from \"mongoose\";\nexport default async function database(req, res, next) {\n  try {\n    if (!global.mongoose) {\n      global.mongoose = await mongoose.connect(process.env.MONGODB_URI, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n        useFindAndModify: false\n      });\n    }\n\n    if (!req.mongoose) req.mongoose = global.mongoose;\n  } catch (err) {\n    console.error(err);\n  }\n\n  return next();\n}","map":null,"metadata":{},"sourceType":"module"}