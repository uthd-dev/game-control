{"ast":null,"code":"import mongoose from \"mongoose\";\nexport default async function database(req, res, next) {\n  try {\n    if (!global.mongoose) {\n      req.mongoose = await mongoose.connect(process.env.MONGODB_URI, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n        useFindAndModify: false\n      });\n    }\n  } catch (err) {\n    console.error(err);\n  }\n\n  return next();\n}","map":{"version":3,"sources":["D:/Dev/GitHub/game-control/middleware/database.js"],"names":["mongoose","database","req","res","next","global","connect","process","env","MONGODB_URI","useNewUrlParser","useUnifiedTopology","useFindAndModify","err","console","error"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAEA,eAAe,eAAeC,QAAf,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC,EAAwC;AACrD,MAAI;AACF,QAAI,CAACC,MAAM,CAACL,QAAZ,EAAsB;AACpBE,MAAAA,GAAG,CAACF,QAAJ,GAAe,MAAMA,QAAQ,CAACM,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAA7B,EAA0C;AAC7DC,QAAAA,eAAe,EAAE,IAD4C;AAE7DC,QAAAA,kBAAkB,EAAE,IAFyC;AAG7DC,QAAAA,gBAAgB,EAAE;AAH2C,OAA1C,CAArB;AAKD;AACF,GARD,CAQE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;;AAED,SAAOT,IAAI,EAAX;AACD","sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nexport default async function database(req, res, next) {\r\n  try {\r\n    if (!global.mongoose) {\r\n      req.mongoose = await mongoose.connect(process.env.MONGODB_URI, {\r\n        useNewUrlParser: true,\r\n        useUnifiedTopology: true,\r\n        useFindAndModify: false,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n\r\n  return next();\r\n}\r\n"]},"metadata":{},"sourceType":"module"}