{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{DSsK:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return j}));var i=n(\"jg1C\"),r=n(\"ERkP\"),o=n.n(r),a=n(\"aWzz\"),l=n.n(a),s=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},c=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!==typeof t&&\"function\"!==typeof t?e:t},d=function(e){return\"&parent=\"+[window.location.hostname].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)).join(\"&parent=\")},y=function(e,t){return Object.keys(e).reduce((function(n,i){return t.hasOwnProperty(i)||(n[i]=e[i]),n}),{})},f=null,w={id:l.a.string,allowFullscreen:l.a.bool,channel:l.a.string.isRequired,fontSize:l.a.oneOf([\"small\",\"medium\",\"large\"]),height:l.a.oneOfType([l.a.string,l.a.number]),withChat:l.a.bool,theme:l.a.oneOf([\"light\",\"dark\"]),width:l.a.oneOfType([l.a.string,l.a.number]),onAuthenticate:l.a.func,onVideoPlay:l.a.func,onVideoPause:l.a.func,onVideoReady:l.a.func,autoplay:l.a.bool,muted:l.a.bool,parent:l.a.arrayOf(l.a.string)},m={id:\"twitch-embed\",allowFullscreen:!0,fontSize:\"small\",height:480,withChat:!0,theme:\"light\",width:940,onAuthenticate:function(){return null},onVideoPlay:function(){return null},onVideoPause:function(){return null},onVideoReady:function(){return null},autoplay:!0,muted:!1,parent:[]},v=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),p(t,[{key:\"componentDidMount\",value:function(){var e=this;if(this._validateProps(),window.Twitch&&window.Twitch.Embed)return this._createEmbed();f||((f=document.createElement(\"script\")).setAttribute(\"type\",\"text/javascript\"),f.setAttribute(\"src\",\"https://embed.twitch.tv/embed/v1.js\"),document.body.appendChild(f)),f.addEventListener(\"load\",(function(){e._createEmbed()}))}},{key:\"componentDidUpdate\",value:function(e,t,n){var i=this;return this._validateProps(),e.withChat||Object.keys(e).reduce((function(t,n){return\"channel\"===n||e[n]!==i.props[n]&&t.push(n),t}),[]).length>0?(this.embed=null,this.player=null,document.getElementById(e.id).innerHTML=\"\",this._createEmbed()):void(e.channel!==this.props.channel&&this.player.setChannel(this.props.channel))}},{key:\"_createEmbed\",value:function(){this.embed=new window.Twitch.Embed(this.props.id,{allowfullscreen:this.props.allowFullscreen,channel:this.props.channel,\"font-size\":this.props.fontSize,height:\"100%\",layout:this.props.withChat?\"video-with-chat\":\"video\",theme:this.props.theme,width:\"100%\",parent:this.props.parent}),this._addEventListeners()}},{key:\"_addEventListeners\",value:function(){var e=this;this.embed.addEventListener(window.Twitch.Embed.AUTHENTICATE,this.props.onAuthenticate),this.embed.addEventListener(window.Twitch.Embed.VIDEO_PLAY,this.props.onVideoPlay),this.embed.addEventListener(window.Twitch.Embed.VIDEO_PAUSE,this.props.onVideoPause),this.embed.addEventListener(window.Twitch.Embed.VIDEO_READY,(function(){var t=e.props,n=t.autoplay,i=t.muted;e.player=e.embed.getPlayer(),i&&e.player.setVolume(0),n||e.player.pause(),e.props.onVideoReady(e.player)}))}},{key:\"_validateProps\",value:function(){if(!this.props.channel)throw new Error(\"A channel prop must be supplied to TwitchEmbed!\")}},{key:\"render\",value:function(){var e=y(this.props,w);return o.a.createElement(\"div\",h({style:{width:this.props.width,height:this.props.height},id:this.props.id},e))}}]),t}(r.Component);v.propTypes=w,v.defaultProps=m;var b={channel:l.a.string.isRequired,id:l.a.string,height:l.a.oneOfType([l.a.string,l.a.number]),width:l.a.oneOfType([l.a.string,l.a.number]),theme:l.a.oneOf([\"light\",\"dark\"]),parent:l.a.arrayOf(l.a.string),migration:l.a.bool},g={id:\"twitch-chat-embed\",height:500,width:350,theme:\"light\",migration:!0,parent:[]},E=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),p(t,[{key:\"componentDidMount\",value:function(){this._validateProps()}},{key:\"componentDidUpdate\",value:function(e,t,n){this._validateProps()}},{key:\"_validateProps\",value:function(){if(!this.props.channel)throw new Error(\"A channel prop must be supplied to TwitchChat!\")}},{key:\"_createEmbedURL\",value:function(){var e=this.props,t=e.channel,n=e.theme,i=e.parent;return\"https://www.twitch.tv/embed/\"+t+\"/chat\"+(\"dark\"===n?\"?darkpopout\":\"\")+(\"dark\"!==n?\"?\":\"&\")+\"migration=\"+e.migration.toString()+d(i)}},{key:\"render\",value:function(){var e=this.props,t=e.height,n=e.id,i=e.width,r=y(this.props,b);return o.a.createElement(\"iframe\",h({title:\"Twitch Chat - \"+n,id:n,src:this._createEmbedURL(),height:t,width:i,frameBorder:0},r))}}]),t}(r.Component);E.propTypes=b,E.defaultProps=g;var P={clip:l.a.string.isRequired,id:l.a.string,autoplay:l.a.bool,muted:l.a.bool,height:l.a.oneOfType([l.a.string,l.a.number]),width:l.a.oneOfType([l.a.string,l.a.number]),allowFullscreen:l.a.bool,parent:l.a.arrayOf(l.a.string),migration:l.a.bool},_={id:\"twitch-clip-embed\",autoplay:!0,muted:!1,height:480,width:940,allowFullscreen:!0,migration:!0,parent:[]},O=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),p(t,[{key:\"componentDidMount\",value:function(){this._validateProps()}},{key:\"componentDidUpdate\",value:function(e,t,n){this._validateProps()}},{key:\"_validateProps\",value:function(){if(!this.props.clip)throw new Error(\"A clip prop must be supplied to TwitchClip!\")}},{key:\"_createEmbedURL\",value:function(){var e=this.props,t=e.clip,n=e.autoplay,i=e.muted,r=e.parent;return\"https://clips.twitch.tv/embed?clip=\"+t+\"&autoplay=\"+n+\"&muted=\"+i+\"&migration=\"+e.migration.toString()+d(r)}},{key:\"render\",value:function(){var e=this.props,t=e.id,n=e.height,i=e.width,r=e.allowFullscreen,a=y(this.props,P);return o.a.createElement(\"iframe\",h({title:\"Twitch Clip Embed - \"+t,src:this._createEmbedURL(),id:t,height:n,width:i,allowFullScreen:r,frameBorder:0},a))}}]),t}(r.Component);O.propTypes=P,O.defaultProps=_;var T=[\"channel\",\"collection\",\"video\"],k=null,L={id:l.a.string,channel:l.a.string,collection:l.a.string,video:l.a.string,height:l.a.oneOfType([l.a.string,l.a.number]),width:l.a.oneOfType([l.a.string,l.a.number]),playsInline:l.a.bool,autoplay:l.a.bool,muted:l.a.bool,allowFullscreen:l.a.bool,time:l.a.string,hideControls:l.a.bool,onEnded:l.a.func,onPause:l.a.func,onPlay:l.a.func,onPlaybackBlocked:l.a.func,onPlaying:l.a.func,onOffline:l.a.func,onOnline:l.a.func,onReady:l.a.func,parent:l.a.arrayOf(l.a.string)},A={id:\"twitch-player-embed\",channel:null,collection:null,video:null,height:480,width:940,playsInline:!0,autoplay:!0,muted:!1,allowFullscreen:!0,time:\"0h0m0s\",hideControls:!1,onEnded:function(){return null},onPause:function(){return null},onPlay:function(){return null},onPlaybackBlocked:function(){return null},onPlaying:function(){return null},onOffline:function(){return null},onOnline:function(){return null},onReady:function(){return null},parent:[]},C=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),p(t,[{key:\"componentDidMount\",value:function(){var e=this;if(this._validateProps(),window.Twitch&&window.Twitch.Player)return this._createPlayer();k||((k=document.createElement(\"script\")).setAttribute(\"type\",\"text/javascript\"),k.setAttribute(\"src\",\"https://player.twitch.tv/js/embed/v1.js\"),document.body.appendChild(k)),k.addEventListener(\"load\",(function(){e._createPlayer()}))}},{key:\"componentDidUpdate\",value:function(e,t,n){var i=this;return this._validateProps(),Object.keys(e).reduce((function(t,n){return T.includes(n)||e[n]!==i.props[n]&&t.push(n),t}),[]).length>0?(this.player=null,document.getElementById(e.id).innerHTML=\"\",this._createPlayer()):e.channel!==this.props.channel&&this.props.channel?this.player.setChannel(this.props.channel):(e.collection!==this.props.collection&&this.props.collection&&this.player.setCollection(this.props.collection),void(e.video!==this.props.video&&this.props.video&&this.player.setVideo(\"v\"+this.props.video)))}},{key:\"_createPlayer\",value:function(){var e={height:\"100%\",width:\"100%\",playsinline:this.props.playsInline,allowfullscreen:this.props.allowFullscreen,autoplay:this.props.autoplay,muted:this.props.muted,time:this.props.time,controls:!this.props.hideControls,parent:this.props.parent};this.props.channel&&(e.channel=this.props.channel),this.props.video&&(e.video=this.props.video),this.props.collection&&(e.collection=this.props.collection),this.player=new window.Twitch.Player(this.props.id,e),this._addEventListeners()}},{key:\"_addEventListeners\",value:function(){var e=this;this.player.addEventListener(window.Twitch.Player.ENDED,this.props.onEnded),this.player.addEventListener(window.Twitch.Player.PAUSE,this.props.onPause),this.player.addEventListener(window.Twitch.Player.PLAY,this.props.onPlay),this.player.addEventListener(window.Twitch.Player.PLAYBACK_BLOCKED,this.props.onPlaybackBlocked),this.player.addEventListener(window.Twitch.Player.PLAYING,this.props.onPlaying),this.player.addEventListener(window.Twitch.Player.OFFLINE,this.props.onOffline),this.player.addEventListener(window.Twitch.Player.ONLINE,this.props.onOnline),this.player.addEventListener(window.Twitch.Player.READY,(function(){e.props.onReady(e.player)}))}},{key:\"_validateProps\",value:function(){var e=this.props,t=e.channel,n=e.collection,i=e.video;if(!t&&!n&&!i)throw new Error(\"A channel, collection or video prop must be supplied to TwitchPlayer!\")}},{key:\"render\",value:function(){var e=y(this.props,L);return o.a.createElement(\"div\",h({id:this.props.id,style:{width:this.props.width,height:this.props.height}},e))}}]),t}(r.Component);function j(e){return Object(i.jsx)(v,{channel:\"props.channel\",id:\"props.id\",muted:!0,theme:\"dark\",height:\"100%\",width:\"100%\"})}C.propTypes=L,C.defaultProps=A}}]);","extractedComments":[]}