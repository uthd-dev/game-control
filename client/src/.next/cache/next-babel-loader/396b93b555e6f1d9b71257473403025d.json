{"ast":null,"code":"import _taggedTemplateLiteral from \"D:/Dev/GitHub/game-control/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"D:/Dev/GitHub/game-control/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Dev/GitHub/game-control/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n    font-size: 18px;\\n    margin: 0 auto;\\n\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n    height: 60px;\\n    width: 150px;\\n    margin: 20px 10px;\\n    padding: 0 25px;\\n\\n    background: #F0524C;\\n    border-radius: 8px;\\n    \\n    display: flex;\\n    align-items: center;\\n    \\n    border: none;\\n\\n    :hover {\\n        box-shadow: 0px 0px 0px 3px #F0524C;\\n        background: none;\\n        transition: 150ms;\\n    }\\n\\n    @media only screen and (max-width: 1400px) {\\n        margin: 20px 0;\\n    }\\n    \\n    transition: 150ms;\\n    \"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n    color: green;\\n    font-size: 16px;\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n    color: red;\\n    font-size: 16px;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n    margin-top: 20px;\\n\\n    font-family: 'Montserrat', sans-serif;\\n    font-size: 1em;\\n\\n    color: white;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 10px auto;\\n    border-radius: 5px;\\n    height: auto;\\n    min-height: 30px;\\n    width: 50%;\\n    min-width: 250px;\\n    border: none;\\n    outline: none;\\n    padding-left: 10px;\\n    @media only screen and (max-width: 1400px) {\\n        height: 5vh\\n    }\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 25vw;\\n    height: auto;\\n    margin: 50px auto;\\n\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n\\n    box-shadow: 0px 0px 0px 3px #F0524C;\\n    border-radius: 8px;\\n\\n    @media only screen and (max-width: 1400px) {\\n        width: 75%;\\n    }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n    font-size: 24px;\\n    color: #C4C4C4;\\n    margin: 0 15px;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    color: white;\\n    font-weight: 800;\\n    font-size: 80px;\\n    margin: 0;\\n    @media only screen and (max-width: 1400px) {\\n        font-size: 60px;\\n    }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    height: 50%;\\n    min-width: 600px;\\n    max-width: 100%;\\n    padding-left: 20px;\\n    @media only screen and (max-width: 1400px) {\\n        display: none;\\n    }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    flex: 2;\\n    background-color: #101824;\\n\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    padding: 25px;\\n\\n    box-shadow: -4px 0px 6px 1px rgba(0, 0, 0, 0.35);\\n    @media only screen and (max-width: 1400px) {\\n        box-shadow: none;\\n        flex: 1;\\n        margin: 0 auto;\\n        align-items: center;\\n        justify-content: center;\\n    }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    flex: 1;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    @media only screen and (max-width: 1400px) {\\n        display: none;\\n    }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: auto;\\n    min-height: 100vh;\\n    z-index: 1;\\n\\n    display: flex;\\n    background-color: white;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n//used for client-side web requests\nimport axios from 'axios'; //Used for react function component's implementation of state\n\nimport { useState } from 'react'; //css-in-js\n\nimport styled from 'styled-components'; //Custom react \"theme\" for consistent \"layout\"\n\nimport Layout from '../../components/layout';\n\nfunction Stream() {\n  /* CLIENT-SIDE JS */\n  //Init formData var & update func with useState\n  var _useState = useState({\n    fname: \"\",\n    ign: \"\",\n    tel: \"\"\n  }),\n      formData = _useState[0],\n      setFormData = _useState[1];\n  /* POSTs FormData to Streamer Signup API endpoint */\n\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n  /* Form Update Handlers */\n  //TO-DO: Make below more compact (1 function > 3)\n\n\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var errText, successText, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault(); //Stops default form submission\n\n              errText = document.getElementById(\"signup-err\"); //Shown on Error\n\n              successText = document.getElementById(\"signup-success\"); //Shown on success\n\n              res = \"\";\n              _context.prev = 4;\n              _context.next = 7;\n              return axios.post('/api/users/streamer-signup', formData);\n\n            case 7:\n              res = _context.sent;\n\n              //Uses the success var sent in res from server to determine status\n              if (res.data.success == true) {\n                //Shows success text & hides error text if need be\n                successText.classList.remove(\"hidden\");\n                if (!errText.classList.contains(\"hidden\")) errText.classList.add(\"hidden\");\n              } else if (res.data.success == false && res.data.response) {\n                //Shows Error text & updates contents, Hides success text if need be\n                errText.innerHTML = res.data.response;\n                errText.classList.remove(\"hidden\");\n                if (!successText.classList.contains(\"hidden\")) successText.classList.add(\"hidden\");\n              } else {\n                //Generic Error message if a success status var is unable to be parsed\n                console.log(res);\n                errText.innerHTML = \"Error! Server did not respond properly.\";\n                errText.classList.remove(\"hidden\");\n                if (!successText.classList.contains(\"hidden\")) successText.classList.add(\"hidden\");\n              }\n\n              _context.next = 17;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](4);\n              //Handles Axios error when unable to post, shows generic error\n              console.log(_context.t0);\n              errText.innerHTML = \"Error! Server did not respond.\";\n              errText.classList.remove(\"hidden\");\n              if (!successText.classList.contains(\"hidden\")) successText.classList.add(\"hidden\");\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[4, 11]]);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function handleNameChange(event) {\n    setFormData({\n      fname: event.target.value,\n      ign: formData.ign,\n      tel: formData.tel\n    });\n  }\n\n  function handleIGNChange(event) {\n    setFormData({\n      fname: formData.fname,\n      ign: event.target.value,\n      tel: formData.tel\n    });\n  }\n\n  function handleTelChange(event) {\n    setFormData({\n      fname: formData.fname,\n      ign: formData.ign,\n      tel: event.target.value\n    });\n  }\n  /* COMPONENT HTML-IN-JS (JSX)*/\n\n\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsxs(ContentWrapper, {\n      children: [/*#__PURE__*/_jsx(ImageWrapper, {\n        children: /*#__PURE__*/_jsx(Richie, {\n          src: \"/home/richie.svg\"\n        })\n      }), /*#__PURE__*/_jsxs(SignUpWrapper, {\n        children: [/*#__PURE__*/_jsx(PageTitle, {\n          children: \"Like to Stream?\"\n        }), /*#__PURE__*/_jsx(PageExceprt, {\n          children: \"Sign Up now to let viewers take control of your game!\"\n        }), /*#__PURE__*/_jsxs(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsx(Label, {\n            htmlFor: \"fname\",\n            children: \"Full (legal) name:\"\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Input, {\n            type: \"text\",\n            id: \"fname\",\n            name: \"fname\",\n            autocomplete: \"off\",\n            value: formData.fname,\n            onChange: handleNameChange\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Label, {\n            htmlFor: \"ign\",\n            children: \"Minecraft IGN:\"\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Input, {\n            type: \"ign\",\n            id: \"ign\",\n            name: \"ign\",\n            value: formData.ign,\n            onChange: handleIGNChange\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Label, {\n            htmlFor: \"tel\",\n            children: \"Phone number:\"\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Input, {\n            type: \"tel\",\n            id: \"tel\",\n            name: \"tel\",\n            placeholder: \"Optional\",\n            value: formData.tel,\n            onChange: handleTelChange\n          }), /*#__PURE__*/_jsx(SignUpButton, {\n            type: \"submit\",\n            children: /*#__PURE__*/_jsx(SignUpText, {\n              children: \"SIGN UP\"\n            })\n          }), /*#__PURE__*/_jsx(ResponseErr, {\n            id: \"signup-err\",\n            className: \"hidden\",\n            children: \"Error!\"\n          }), /*#__PURE__*/_jsx(ResponseSuccess, {\n            id: \"signup-success\",\n            className: \"hidden\",\n            children: \"Success!\"\n          })]\n        })]\n      })]\n    })\n  });\n}\n/* STYLING (CSS) */\n\n/* PAGE LAYOUT */\n\n\nvar ContentWrapper = styled.div(_templateObject());\nvar ImageWrapper = styled.div(_templateObject2());\nvar SignUpWrapper = styled.div(_templateObject3());\n/* PAGE CONTENT */\n\nvar Richie = styled.img(_templateObject4());\nvar PageTitle = styled.h3(_templateObject5());\nvar PageExceprt = styled.p(_templateObject6());\n/* SIGNUP FORM */\n\nvar Form = styled.form(_templateObject7());\nvar Input = styled.input(_templateObject8());\nvar Label = styled.label(_templateObject9());\n/* FORM RESPONSE TEXT */\n\nvar ResponseErr = styled.p(_templateObject10());\nvar ResponseSuccess = styled.p(_templateObject11());\n/* SIGN UP BUTTON */\n\nvar SignUpButton = styled.button(_templateObject12());\nvar SignUpText = styled.h5(_templateObject13());\nexport default Stream;","map":null,"metadata":{},"sourceType":"module"}